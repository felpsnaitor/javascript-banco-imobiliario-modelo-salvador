const dadosDoJogo = {
    "lugares":[
        {"id": 1,  "position":"casa inicio da partida", "nome":"inicio"},
        {"id": 2,  "position":"casa", "nome":"Mata Escura", "valor":100000},
        {"id": 3,  "position":"casa", "nome":"São Caetano", "valor":100000},
        {"id": 4,  "position":"shopping", "nome":"Shopping da Bahia", "valor":100000} ,
        {"id": 5,  "position":"casa", "nome":"Bom Jua", "valor":100000},
        {"id": 6,  "position":"casa", "nome":"Bairro da Paz", "valor":100000},
        {"id": 7,  "position":"sorte ou reves", "nome":"sorte ou reves"},
        {"id": 8,  "position":"casa", "nome":"Águas Claras", "valor":100000},
        {"id": 9,  "position":"shopping" , "nome":"Salvador Shopping", "valor":100000},
        {"id": 10, "position":"casa", "nome":"Curuzu", "valor":100000},
        {"id": 11, "position":"cadeia", "nome":"cadeia"},
        {"id": 12, "position":"sorte ou reves", "nome":"sorte ou reves"},
        {"id": 13, "position":"casa", "nome":"Cabula", "valor":100000},
        {"id": 14, "position":"casa", "nome":"Liberdade", "valor":100000},
        {"id": 15, "position":"ganhe 200x", "nome":"ganhe 200x"},
        {"id": 16, "position":"casa", "nome":"Nordeste de Amaralina", "valor":100000},
        {"id": 17, "position":"shopping" , "nome":"Shopping Bela Vista", "valor":100000},
        {"id": 18, "position":"casa", "nome":"Ondina", "valor":100000},
        {"id": 19, "position":"casa", "nome":"Barra", "valor":100000},
        {"id": 20, "position":"casa", "nome":"Pituba", "valor":100000},
        {"id": 21, "position":"ferias", "nome":"ferias"},
        {"id": 22, "position":"casa", "nome":"Pelourinho", "valor":100000},
        {"id": 23, "position":"shopping" , "nome":"Shopping Paralela", "valor":100000},
        {"id": 24, "position":"pague 200x", "nome":"pague 200x"},
        {"id": 25, "position":"sorte ou reves", "nome":"sorte ou reves"},
        {"id": 26, "position":"casa", "nome":"Imbui", "valor":100000},
        {"id": 27, "position":"casa", "nome":"Tororó", "valor":100000},
        {"id": 28, "position":"sorte ou reves", "nome":"sorte ou reves"},
        {"id": 29, "position":"casa", "nome":"Nazaré", "valor":100000},
        {"id": 30, "position":"shopping" , "nome":"Shopping Center Lapa", "valor":100000},
        {"id": 31, "position":"vá para a cadeia", "nome":"vá para a cadeia"},
        {"id": 32, "position":"casa", "nome":"Paripe", "valor":100000},
        {"id": 33, "position":"sorte ou reves", "nome":"sorte ou reves"},
        {"id": 34, "position":"casa", "nome":"Ribeira", "valor":100000},
        {"id": 35, "position":"casa", "nome":"Itapuã", "valor":100000},
        {"id": 36, "position":"casa", "nome":"Rio Vermelho", "valor":100000},
        {"id": 37, "position":"shopping" , "nome":"Shopping Barra", "valor":100000},
        {"id": 38, "position":"casa", "nome":"Horto Florestal", "valor":100000},
        {"id": 39, "position":"sorte ou reves", "nome":"sorte ou reves"},
        {"id": 40, "position":"casa", "nome":"Paralela", "valor":100000}
    ],
    "cartas":[
        {"tipo":[
            {"casa":[
                {"id":1,
                "nome":"Mata Escura",
                "aluguel":500,
                "aluguel casa 1":800,
                "alugue casa 2":1000,
                "aluguel casa 3":1500,
                "aluguel casa 4":3000,
                "aluguel predio":10000,
                "compra de casa":10000,
                "compra de predio":35000,
                "hipoteca":35000},
                {"id":2,
                "nome":"São Caetano",
                "aluguel":500,
                "aluguel casa 1":800,
                "alugue casa 2":1000,
                "aluguel casa 3":1500,
                "aluguel casa 4":3000,
                "aluguel predio":10000,
                "compra de casa":10000,
                "compra de predio":35000,
                "hipoteca":35000},
                {"id":3,
                "nome":"Bom Jua",
                "aluguel":500,
                "aluguel casa 1":800,
                "alugue casa 2":1000,
                "aluguel casa 3":1500,
                "aluguel casa 4":3000,
                "aluguel predio":10000,
                "compra de casa":10000,
                "compra de predio":35000,
                "hipoteca":35000},
                {"id":4,
                "nome":"Bairro da Paz",
                "aluguel":500,
                "aluguel casa 1":800,
                "alugue casa 2":1000,
                "aluguel casa 3":1500,
                "aluguel casa 4":3000,
                "aluguel predio":10000,
                "compra de casa":10000,
                "compra de predio":35000,
                "hipoteca":35000},
                {"id":5,
                "nome":"Águas Claras",
                "aluguel":500,
                "aluguel casa 1":800,
                "alugue casa 2":1000,
                "aluguel casa 3":1500,
                "aluguel casa 4":3000,
                "aluguel predio":10000,
                "compra de casa":10000,
                "compra de predio":35000,
                "hipoteca":35000},
                {"id":6,
                "nome":"Curuzu",
                "aluguel":500,
                "aluguel casa 1":800,
                "alugue casa 2":1000,
                "aluguel casa 3":1500,
                "aluguel casa 4":3000,
                "aluguel predio":10000,
                "compra de casa":10000,
                "compra de predio":35000,
                "hipoteca":35000},
                {"id":7,
                "nome":"Cabula",
                "aluguel":500,
                "aluguel casa 1":800,
                "alugue casa 2":1000,
                "aluguel casa 3":1500,
                "aluguel casa 4":3000,
                "aluguel predio":10000,
                "compra de casa":10000,
                "compra de predio":35000,
                "hipoteca":35000},
                {"id":8,
                "nome":"Liberdade",
                "aluguel":500,
                "aluguel casa 1":800,
                "alugue casa 2":1000,
                "aluguel casa 3":1500,
                "aluguel casa 4":3000,
                "aluguel predio":10000,
                "compra de casa":10000,
                "compra de predio":35000,
                "hipoteca":35000},
                {"id":9,
                "nome":"Nordeste de Amaralina",
                "aluguel":500,
                "aluguel casa 1":800,
                "alugue casa 2":1000,
                "aluguel casa 3":1500,
                "aluguel casa 4":3000,
                "aluguel predio":10000,
                "compra de casa":10000,
                "compra de predio":35000,
                "hipoteca":35000},
                {"id":10,
                "nome":"Ondina",
                "aluguel":500,
                "aluguel casa 1":800,
                "alugue casa 2":1000,
                "aluguel casa 3":1500,
                "aluguel casa 4":3000,
                "aluguel predio":10000,
                "compra de casa":10000,
                "compra de predio":35000,
                "hipoteca":35000},
                {"id":11,
                "nome":"Barra",
                "aluguel":500,
                "aluguel casa 1":800,
                "alugue casa 2":1000,
                "aluguel casa 3":1500,
                "aluguel casa 4":3000,
                "aluguel predio":10000,
                "compra de casa":10000,
                "compra de predio":35000,
                "hipoteca":35000},
                {"id":12,
                "nome":"Pituba",
                "aluguel":500,
                "aluguel casa 1":800,
                "alugue casa 2":1000,
                "aluguel casa 3":1500,
                "aluguel casa 4":3000,
                "aluguel predio":10000,
                "compra de casa":10000,
                "compra de predio":35000,
                "hipoteca":35000},
                {"id":13,
                "nome":"Pelourinho",
                "aluguel":500,
                "aluguel casa 1":800,
                "alugue casa 2":1000,
                "aluguel casa 3":1500,
                "aluguel casa 4":3000,
                "aluguel predio":10000,
                "compra de casa":10000,
                "compra de predio":35000,
                "hipoteca":35000},
                {"id":14,
                "nome":"STIEP",
                "aluguel":500,
                "aluguel casa 1":800,
                "alugue casa 2":1000,
                "aluguel casa 3":1500,
                "aluguel casa 4":3000,
                "aluguel predio":10000,
                "compra de casa":10000,
                "compra de predio":35000,
                "hipoteca":35000},
                {"id":15,
                "nome":"Tororó",
                "aluguel":500,
                "aluguel casa 1":800,
                "alugue casa 2":1000,
                "aluguel casa 3":1500,
                "aluguel casa 4":3000,
                "aluguel predio":10000,
                "compra de casa":10000,
                "compra de predio":35000,
                "hipoteca":35000},
                {"id":16,
                "nome":"Nazaré",
                "aluguel":500,
                "aluguel casa 1":800,
                "alugue casa 2":1000,
                "aluguel casa 3":1500,
                "aluguel casa 4":3000,
                "aluguel predio":10000,
                "compra de casa":10000,
                "compra de predio":35000,
                "hipoteca":35000},
                {"id":17,
                "nome":"Paripe",
                "aluguel":500,
                "aluguel casa 1":800,
                "alugue casa 2":1000,
                "aluguel casa 3":1500,
                "aluguel casa 4":3000,
                "aluguel predio":10000,
                "compra de casa":10000,
                "compra de predio":35000,
                "hipoteca":35000},
                {"id":18,
                "nome":"Ribeira",
                "aluguel":500,
                "aluguel casa 1":800,
                "alugue casa 2":1000,
                "aluguel casa 3":1500,
                "aluguel casa 4":3000,
                "aluguel predio":10000,
                "compra de casa":10000,
                "compra de predio":35000,
                "hipoteca":35000},
                {"id":19,
                "nome":"Itapuã",
                "aluguel":500,
                "aluguel casa 1":800,
                "alugue casa 2":1000,
                "aluguel casa 3":1500,
                "aluguel casa 4":3000,
                "aluguel predio":10000,
                "compra de casa":10000,
                "compra de predio":35000,
                "hipoteca":35000},
                {"id":20,
                "nome":"Rio Vermelho",
                "aluguel":500,
                "aluguel casa 1":800,
                "alugue casa 2":1000,
                "aluguel casa 3":1500,
                "aluguel casa 4":3000,
                "aluguel predio":10000,
                "compra de casa":10000,
                "compra de predio":35000,
                "hipoteca":35000},
                {"id":21,
                "nome":"Horto Florestal",
                "aluguel":500,
                "aluguel casa 1":800,
                "alugue casa 2":1000,
                "aluguel casa 3":1500,
                "aluguel casa 4":3000,
                "aluguel predio":10000,
                "compra de casa":10000,
                "compra de predio":35000,
                "hipoteca":35000},
                {"id":22,
                "nome":"Paralela",
                "aluguel":500,
                "aluguel casa 1":800,
                "alugue casa 2":1000,
                "aluguel casa 3":1500,
                "aluguel casa 4":3000,
                "aluguel predio":10000,
                "compra de casa":10000,
                "compra de predio":35000,
                "hipoteca":35000}
            ]},
            {"shopping":[
                {"id":1,
                "nome":"Shopping da Bahia",
                "gasto":500,
                "hipoteca":35000},
                {"id":2,
                "nome":"Salvador Shopping",
                "gasto":500,
                "hipoteca":35000},
                {"id":3,
                "nome":"Shopping Bela Vista",
                "gasto":500,
                "hipoteca":35000},
                {"id":4,
                "nome":"Shopping Paralela",
                "gasto":500,
                "hipoteca":35000},
                {"id":5,
                "nome":"Shopping Center Lapa",
                "gasto":500,
                "hipoteca":35000},
                {"id":6,
                "nome":"Shopping Barra",
                "gasto":500,
                "hipoteca":35000}
            ]},
            {"sorte ou reves":[
                {"id":1, "nome":"sorte", "texto":"você ganhou na raspadiha!", "ação":"receba","valor":200.00},
                {"id":2, "nome":"reves", "texto":"Seu carro quebrou, pague o mecânico", "ação":"pague","valor":7000.00},
                {"id":3, "nome":"sorte", "texto":"Achou uma mala na rua sem indentificação cheia de dinheiro", "ação":"receba","valor":50000.00},
                {"id":4, "nome":"reves", "texto":"Você tava andando com os meninos da boca quando a polica chegou", "ação":"vá para a cadeia","valor":0},
                {"id":5, "nome":"sorte", "texto":"Você ajudou o melhor advogado criminalista da cidade Gabriel Souza e ele te deve um favor!", "ação":"habeas corpus","valor":0}
            ]}
            ]
        }
    ],
    "bonecos":[
        {"id":1, "nome":"Gon", "src":"./src/dados/img/boneco-gon.png"},
        {"id":2, "nome":"Killua", "src":"./src/dados/img/boneco-killua.png"},
        {"id":3, "nome":"Goku", "src":"./src/dados/img/boneco-goku.png"},
        {"id":4, "nome":"Naruto", "src":"./src/dados/img/boneco-naruto.jpg"},
        {"id":5, "nome":"Luffy", "src":"./src/dados/img/boneco-luffy.png"},
        {"id":6, "nome":"Saturo", "src":"./src/dados/img/boneco-gojo-saturo.jpg"}       
    ]

}

// DADOS
const dado = [
    {"id":1, "imgDado":"./src/dados/img/dado-1.png"},
    {"id":2, "imgDado":"./src/dados/img/dado-2.png"},
    {"id":3, "imgDado":"./src/dados/img/dado-3.png"},
    {"id":4, "imgDado":"./src/dados/img/dado-4.png"},
    {"id":5, "imgDado":"./src/dados/img/dado-5.png"},
    {"id":6, "imgDado":"./src/dados/img/dado-6.png"}
]
// variavel padrão
const jogadores = [
    {"id":1, "player":0, "status":"normal"},
    {"id":2, "player":0, "status":"normal"},
    {"id":3, "player":0, "status":"normal"},
    {"id":4, "player":0, "status":"normal"},
    {"id":5, "player":0, "status":"normal"},
    {"id":6, "player":0, "status":"normal"}
]

const valorDado = {
    "dado01":0,
    "dado02":0
}

// Chave de trava da função caso esteja na cadeia ou nas ferias
let preso = false
let diaDePrisao = 0

// abreveiando metodo .ramdown
function sortindoNumeros(max, min){
    const  valor = () => ~~(Math.ramdon() * max - min)
    return valor
}

// FUNÇÂO PARA ROLAR O DADO
function numeroDoDado(){
    const numeroDoDado  = Math.floor(Math.random() * (6 - 0))
    let dadoSelecionado = dado[numeroDoDado]
   
    return dadoSelecionado   
}

function rolandoDado(){
    
    // pegando valores do dado 1
    let dadoNum = numeroDoDado()
    let imgDoDado = dadoNum.imgDado
    document.getElementById(`img-dado01`).src = imgDoDado
    valorDado.dado01 = dadoNum.id
    
    // Pegando valores do dado 2
    dadoNum = numeroDoDado()
    imgDoDado = dadoNum.imgDado
    document.getElementById(`img-dado02`).src = imgDoDado
    valorDado.dado02 = dadoNum.id
    
    let somaDosDados = 0
    somaDosDados = valorDado.dado01 + valorDado.dado02
    
    
    return somaDosDados
       
}

// CRIANDO OS LUGARES NO TABLEIRO
for (let i = 0; i < dadosDoJogo.lugares.length; i++) {
    
    if(i < 10){
        let lugarTabuleiro = document.createElement("div");
        lugarTabuleiro.className = "casa"
        lugarTabuleiro.id = `casa${i+1}`
        lugarTabuleiro.innerHTML = `<h2>${dadosDoJogo.lugares[i].nome}</h2>`

        
        document.querySelector("#rua01").appendChild(lugarTabuleiro)
        
        // a expressão || Usa-se para "ou"no ingles "or"
        // a expressão && Usa-se para "e" no ingles "and"
    }else if(i >= 10 && i < 20){
        let lugarTabuleiro = document.createElement("div");
        lugarTabuleiro.className = "casa"
        lugarTabuleiro.id = `casa${i+1}`
        lugarTabuleiro.innerHTML =`<h2>${dadosDoJogo.lugares[i].nome}</h2>`

        
        document.querySelector("#rua02").appendChild(lugarTabuleiro)
        
    }else if(i >= 20 && i < 30){
        let lugarTabuleiro = document.createElement("div");
        lugarTabuleiro.className = "casa"
        lugarTabuleiro.id = `casa${i+1}`
        lugarTabuleiro.innerHTML = `<h2>${dadosDoJogo.lugares[i].nome}</h2>`

        
        document.querySelector("#rua03").appendChild(lugarTabuleiro)
        
    }else if(i >= 30 && i < 40){
        let lugarTabuleiro = document.createElement("div");
        lugarTabuleiro.className = "casa"
        lugarTabuleiro.id = `casa${i+1}`
        lugarTabuleiro.innerHTML = `<h2>${dadosDoJogo.lugares[i].nome}</h2>`

        
        document.querySelector("#rua04").appendChild(lugarTabuleiro)
        
    }
    
}

// colocando boneco para casa
function jogadorNaCasa(indentificador){
    
    const playerHtml = document.createElement("div")
    playerHtml.className = "jogador"
    playerHtml.innerHTML = `<img src="./src/dados/img/boneco-luffy.png" alt="">`
    
    document.querySelector(`#casa${indentificador}`).appendChild(playerHtml)
    
}
// removendo jogador da casa anterior
function removendoImgAntiga(){
    document.querySelector(".jogador").remove()
}

// salvando casa do Sorte ou Reves
const casasSorteouReves = [7, 12, 25, 28, 33, 39]
// configurando Sorte ou Revez para aparecer quando o jogador estiver na casa
function pegandoSorteOuReves(){
    // pegando a carta do sote ou reves
    const sorteReves = dadosDoJogo.cartas[0].tipo[2]["sorte ou reves"]

    // colocando a carta SouR no tabuleiro
    if(casasSorteouReves.includes(jogadores[0].player)){
        let casaSR = document.createElement("div")
        casaSR.className = "sorte-ou-reves"
        casaSR.innerHTML = `
        <button class="girando-card" id="btn-sorteOuReves">
        <img id="img-sorteOuReves" src="./src/dados/img/sorte-reves.png" alt="" srcset="">
        </button>`

        document.querySelector(".container__tabuleiro__cartas-sorte-reves").appendChild(casaSR)

        // Mostrando qual o conteudo da carta
        document.querySelector(`#btn-sorteOuReves`).addEventListener("click", () => {
            
            // Girando Carta do SouR quando clicar
            document.getElementById("btn-sorteOuReves").
            classList.toggle('girando-card');
        
            const numeroSortido  = Math.floor(Math.random() * (6 - 0))
            console.log(numeroSortido)
            let casaSR = document.createElement("div")
            casaSR.className = "carta-sorte-ou-reves"
            casaSR.innerHTML = `<h2>${sorteReves[numeroSortido].nome}</h2>
            <p>${sorteReves[numeroSortido].texto}</p>`
    
            document.querySelector(".sorte-ou-reves").appendChild(casaSR)
            
            // aqui vem a ação do sorte ou reves
        })
        
        
        
    }else if(document.querySelector(".sorte-ou-reves")) {
        document.querySelector(".sorte-ou-reves").remove()
    }
}

// contagem de dados iguais
let manha = 0
function pegandoOLadrao(){
    if(valorDado.dado01 == valorDado.dado02){
        manha ++   
        
    } else {manha = 0}
    
   
    
    if(manha === 3 && valorDado.dado01 == valorDado.dado02){
        removendoImgAntiga()
        jogadorNaCasa(11)
        jogadores[0].status = "preso"
        manha = 0
    }
        console.log(jogadores[0].player)

}

// função para ferias
function tirandoFerias(){
    if(jogadores[0].player === 21){
        jogadores[0].status = "ferias"
        
    }
}

// função para Prisao
function foiPreso(){
    
    
    // Colocando o Status de Preso caso esteja na cadeia
    if(jogadores[0].player === 11){
        jogadores[0].status = "preso"
        
        
        // Fazendo o jogador ir para a cadeia caso caia em vá para a cadeia
    } else if(jogadores[0].player === 31){
        console.log(jogadores[0].player)
        removendoImgAntiga()
        jogadorNaCasa(11)
        jogadores[0].player = 11
        jogadores[0].status = "preso"
        
    }else {
        jogadores[0].status = "normal";
        
    }

    // // Fazendo o Jogador ficar preso quando esta na cadeia
    // if(jogadores[0].status === "preso"){
    //     cadeia = true
    // // Tirando o jogador da cadeia
    // }else if (jogadores[0].status === "normal") {
    //     cadeia = false
    //     jogandoDados()

    // }
    
}



// Fazendo o Jogador andar quando rolar os dados
// function jogandoDados(){
    document.querySelector(`#btn-dado`).addEventListener("click", () => {
        removendoImgAntiga()
        // pegado valor dos dados
        rolandoDado()
        
        console.log(jogadores[0].status)
        // faz com que o personagem pule as casas da soma dos dados
        jogadorNaCasa(passosAtualizados())
        pegandoOLadrao()
        foiPreso()
        tirandoFerias()
        pegandoSorteOuReves()
        console.log(jogadores[0].status)

        // atualizando passos do jogador
        function passosAtualizados(){
            // Contando passos do player
            function contadorPassos(){
                let passos = valorDado.dado01 + valorDado.dado02
                return passos
            }
            // travando Jogada do Player
            if(jogadores[0].status.includes("preso") || jogadores[0].status.includes("ferias")){
                preso = true
                diaDePrisao += 1
                console.log(diaDePrisao)

                function liberdade(){
                    preso = false
                    diaDePrisao = 0
                }
                // Condissão para sair da prinsao
                if(jogadores[0].status === "preso" && diaDePrisao === 3){
                   liberdade()
                } else if (jogadores[0].status === "preso" && manha == 1){
                    liberdade()
                    // Conndissão para sair das ferias
                 }else if (jogadores[0].status === "ferias" && diaDePrisao === 2 ){
                    liberdade()
                }
            }else {preso = false}


            if(preso){
                console.log("voce está preso")
            }else{
                console.log("voce está livre")
                console.log(contadorPassos())
                jogadores[0].player += contadorPassos()
            }

            
            // }
        
            if(jogadores[0].player > 40){
                jogadores[0].player -= 40
                
            }
        
            return jogadores[0].player 

        }

        
    })
// }

function init(){
    // jogandoDados()
    jogadorNaCasa(1)

}

init()